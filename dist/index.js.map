{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///index.js","webpack:///webpack/bootstrap 0b8ae098d5b569ecd31f","webpack:///./index.js","webpack:///./lib/BMStorageIDB.js","webpack:///./~/weakmap/weakmap.js","webpack:///./lib/BMStorage.js","webpack:///./lib/promise-reliable.js","webpack:///./~/@blinkmobile/is-indexeddb-reliable/index.js","webpack:///./~/@blinkmobile/is-indexeddb-reliable/lib/close-db.js","webpack:///./~/@blinkmobile/is-indexeddb-reliable/lib/run-callback.js","webpack:///./~/@blinkmobile/is-indexeddb-reliable/lib/broken-bad.js"],"names":["root","factory","exports","module","define","amd","a","i","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","global","_interopRequireDefault","obj","__esModule","default","_libBMStorageIDB","_libBMStorageIDB2","console","log","BlinkStorage","MyAnswers","Upstream","BMStorageIDB","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_createClass","defineProperties","target","props","length","descriptor","key","protoProps","staticProps","_get","_x3","_x4","_x5","_again","object","property","receiver","desc","parent","getter","undefined","Function","getOwnPropertyDescriptor","get","getPrototypeOf","_weakmap","_weakmap2","_BMStorage2","_BMStorage3","_promiseReliable","_promiseReliable2","WeakMap","privateMap","_BMStorage","type","partition","arguments","section","privates","set","upstream","then","result","ready","Error","_privates$upstream","apply","_privates$upstream2","_privates$upstream3","remove","keys","count","_privates$upstream4","removeKeysRegExp","undefined_","nameOf","replace","defProp","func","name","toSource","match","funcName","createStorage","creator","storage","weakmap","WM","defaultCreator","getProps","getOwnPropertyNames","toString","hasOwn","hasOwnProperty","Data","puid","createUID","secret","unlock","store","data","dataDesc","datalock","uids","Math","random","slice","globalID","isExtensible","splice","indexOf","o","v","iterable","wrap","initialize","validate","unwrap","has","delete_","had","collection","forEach","item","Array","src","del","e","split","stringifier","prep","f","method","eval","BMStorage","available","_blinkmobileIsIndexeddbReliable","_blinkmobileIsIndexeddbReliable2","$","jQuery","dfrd","Deferred","quick","resolve","promise","sync","req","NAME","DB_NAME","api","indexedDB","mozIndexedDB","webkitIndexedDB","msIndexedDB","open","onerror","close","onsuccess","err","error","callback","runBrokenBadTest","runCallback","thorough","UTIL_NAME","db","ignore","deleteDatabase","arg","runWrites","tx","transaction","oncomplete","objectStore","add","created","Date","note","findEntry","prop","openCursor","cursor","runReads","BB_NAME","onupgradeneeded","objectStoreNames","contains","createObjectStore","autoIncrement","wErr","rErr"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\t// local modules\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _libBMStorageIDB = __webpack_require__(1);\n\t\n\tvar _libBMStorageIDB2 = _interopRequireDefault(_libBMStorageIDB);\n\t\n\t// this module\n\t\n\tglobal.console.log('BMStorageIDB: starting...');\n\t\n\tglobal.console.log('global.BlinkStorage: ' + !!global.BlinkStorage);\n\tglobal.console.log('global.MyAnswers: ' + !!global.MyAnswers);\n\t\n\tif (global.BlinkStorage) {\n\t  _libBMStorageIDB2['default'].Upstream = global.BlinkStorage;\n\t  global.BlinkStorage = _libBMStorageIDB2['default'];\n\t}\n\t\n\tmodule.exports = {\n\t  BMStorageIDB: _libBMStorageIDB2['default']\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\t// foreign modules\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x3, _x4, _x5) { var _again = true; _function: while (_again) { var object = _x3, property = _x4, receiver = _x5; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x3 = parent; _x4 = property; _x5 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _weakmap = __webpack_require__(2);\n\t\n\tvar _weakmap2 = _interopRequireDefault(_weakmap);\n\t\n\t// local modules\n\t\n\tvar _BMStorage2 = __webpack_require__(3);\n\t\n\tvar _BMStorage3 = _interopRequireDefault(_BMStorage2);\n\t\n\tvar _promiseReliable = __webpack_require__(4);\n\t\n\tvar _promiseReliable2 = _interopRequireDefault(_promiseReliable);\n\t\n\t// this module\n\t\n\tvar WeakMap = global.WeakMap || _weakmap2['default'];var privateMap = new WeakMap();\n\t\n\tvar BMStorageIDB = (function (_BMStorage) {\n\t  _inherits(BMStorageIDB, _BMStorage);\n\t\n\t  /**\n\t  @param {string?} type - storage mechanism to use, `null` for auto\n\t  @param {string} [partition=default] - WebSQL / IndexedDB database name\n\t  @param {string} [section=main] - WebSQL table / IndexedDB object store name\n\t  */\n\t\n\t  function BMStorageIDB(type) {\n\t    var partition = arguments.length <= 1 || arguments[1] === undefined ? 'default' : arguments[1];\n\t    var section = arguments.length <= 2 || arguments[2] === undefined ? 'main' : arguments[2];\n\t\n\t    _classCallCheck(this, BMStorageIDB);\n\t\n\t    _get(Object.getPrototypeOf(BMStorageIDB.prototype), 'constructor', this).call(this, type, partition, section);\n\t    var privates = {};\n\t    privateMap.set(this, privates);\n\t\n\t    global.console.log('new BMStorageIDB():');\n\t    if (BMStorageIDB.Upstream) {\n\t      privates.upstream = new BMStorageIDB.Upstream(type, partition, section);\n\t    }\n\t  }\n\t\n\t  _createClass(BMStorageIDB, [{\n\t    key: 'ready',\n\t    value: function ready() {\n\t      var privates = privateMap.get(this);\n\t      if (privates.upstream) {\n\t        global.console.log('BMStorageIDB#ready():');\n\t        return _promiseReliable2['default'].then(function (result) {\n\t          global.console.log('isIndexedDBReliable:', result);\n\t          return privates.upstream.ready();\n\t        });\n\t      }\n\t      throw new Error('not implemented');\n\t    }\n\t  }, {\n\t    key: 'get',\n\t    value: function get() {\n\t      var privates = privateMap.get(this);\n\t      if (privates.upstream) {\n\t        var _privates$upstream;\n\t\n\t        global.console.log('BMStorageIDB#get():');\n\t        return (_privates$upstream = privates.upstream).get.apply(_privates$upstream, arguments);\n\t      }\n\t      throw new Error('not implemented');\n\t    }\n\t  }, {\n\t    key: 'set',\n\t    value: function set() {\n\t      var privates = privateMap.get(this);\n\t      if (privates.upstream) {\n\t        var _privates$upstream2;\n\t\n\t        global.console.log('BMStorageIDB#set():');\n\t        return (_privates$upstream2 = privates.upstream).set.apply(_privates$upstream2, arguments);\n\t      }\n\t      throw new Error('not implemented');\n\t    }\n\t  }, {\n\t    key: 'remove',\n\t    value: function remove() {\n\t      var privates = privateMap.get(this);\n\t      if (privates.upstream) {\n\t        var _privates$upstream3;\n\t\n\t        global.console.log('BMStorageIDB#remove():');\n\t        return (_privates$upstream3 = privates.upstream).remove.apply(_privates$upstream3, arguments);\n\t      }\n\t      throw new Error('not implemented');\n\t    }\n\t  }, {\n\t    key: 'keys',\n\t    value: function keys() {\n\t      var privates = privateMap.get(this);\n\t      if (privates.upstream) {\n\t        global.console.log('BMStorageIDB#keys():');\n\t        return privates.upstream.keys();\n\t      }\n\t      throw new Error('not implemented');\n\t    }\n\t  }, {\n\t    key: 'count',\n\t    value: function count() {\n\t      var privates = privateMap.get(this);\n\t      if (privates.upstream) {\n\t        global.console.log('BMStorageIDB#count():');\n\t        return privates.upstream.count();\n\t      }\n\t      throw new Error('not implemented');\n\t    }\n\t  }, {\n\t    key: 'removeKeysRegExp',\n\t    value: function removeKeysRegExp() {\n\t      var privates = privateMap.get(this);\n\t      if (privates.upstream) {\n\t        var _privates$upstream4;\n\t\n\t        global.console.log('BMStorageIDB#removeKeysRegExp():');\n\t        return (_privates$upstream4 = privates.upstream).removeKeysRegExp.apply(_privates$upstream4, arguments);\n\t      }\n\t      throw new Error('not implemented');\n\t    }\n\t  }]);\n\t\n\t  return BMStorageIDB;\n\t})(_BMStorage3['default']);\n\t\n\texports['default'] = BMStorageIDB;\n\tmodule.exports = exports['default'];\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* (The MIT License)\r\n\t *\r\n\t * Copyright (c) 2012 Brandon Benvie <http://bbenvie.com>\r\n\t *\r\n\t * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\r\n\t * associated documentation files (the 'Software'), to deal in the Software without restriction,\r\n\t * including without limitation the rights to use, copy, modify, merge, publish, distribute,\r\n\t * sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is\r\n\t * furnished to do so, subject to the following conditions:\r\n\t *\r\n\t * The above copyright notice and this permission notice shall be included with all copies or\r\n\t * substantial portions of the Software.\r\n\t *\r\n\t * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\r\n\t * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n\t * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY  CLAIM,\r\n\t * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n\t * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\t */\n\t\n\t// Original WeakMap implementation by Gozala @ https://gist.github.com/1269991\n\t// Updated and bugfixed by Raynos @ https://gist.github.com/1638059\n\t'use strict';\n\t\n\tvoid (function (global, undefined_, undefined) {\n\t  var getProps = Object.getOwnPropertyNames,\n\t      defProp = Object.defineProperty,\n\t      toSource = Function.prototype.toString,\n\t      create = Object.create,\n\t      hasOwn = Object.prototype.hasOwnProperty,\n\t      funcName = /^\\n?function\\s?(\\w*)?_?\\(/;\n\t\n\t  function define(object, key, value) {\n\t    if (typeof key === 'function') {\n\t      value = key;\n\t      key = nameOf(value).replace(/_$/, '');\n\t    }\n\t    return defProp(object, key, { configurable: true, writable: true, value: value });\n\t  }\n\t\n\t  function nameOf(func) {\n\t    return typeof func !== 'function' ? '' : 'name' in func ? func.name : toSource.call(func).match(funcName)[1];\n\t  }\n\t\n\t  // ############\n\t  // ### Data ###\n\t  // ############\n\t\n\t  var Data = (function () {\n\t    var dataDesc = { value: { writable: true, value: undefined } },\n\t        datalock = 'return function(k){if(k===s)return l}',\n\t        uids = create(null),\n\t        createUID = function createUID() {\n\t      var _again = true;\n\t\n\t      _function: while (_again) {\n\t        key = undefined;\n\t        _again = false;\n\t\n\t        var key = Math.random().toString(36).slice(2);\n\t        if (key in uids) {\n\t          _again = true;\n\t          continue _function;\n\t        } else {\n\t          return uids[key] = key;\n\t        }\n\t      }\n\t    },\n\t        globalID = createUID(),\n\t        storage = function storage(obj) {\n\t      if (hasOwn.call(obj, globalID)) return obj[globalID];\n\t\n\t      if (!Object.isExtensible(obj)) throw new TypeError(\"Object must be extensible\");\n\t\n\t      var store = create(null);\n\t      defProp(obj, globalID, { value: store });\n\t      return store;\n\t    };\n\t\n\t    // common per-object storage area made visible by patching getOwnPropertyNames'\n\t    define(Object, function getOwnPropertyNames(obj) {\n\t      var props = getProps(obj);\n\t      if (hasOwn.call(obj, globalID)) props.splice(props.indexOf(globalID), 1);\n\t      return props;\n\t    });\n\t\n\t    function Data() {\n\t      var puid = createUID(),\n\t          secret = {};\n\t\n\t      this.unlock = function (obj) {\n\t        var store = storage(obj);\n\t        if (hasOwn.call(store, puid)) return store[puid](secret);\n\t\n\t        var data = create(null, dataDesc);\n\t        defProp(store, puid, {\n\t          value: new Function('s', 'l', datalock)(secret, data)\n\t        });\n\t        return data;\n\t      };\n\t    }\n\t\n\t    define(Data.prototype, function get(o) {\n\t      return this.unlock(o).value;\n\t    });\n\t    define(Data.prototype, function set(o, v) {\n\t      this.unlock(o).value = v;\n\t    });\n\t\n\t    return Data;\n\t  })();\n\t\n\t  var WM = (function (data) {\n\t    var validate = function validate(key) {\n\t      if (key == null || typeof key !== 'object' && typeof key !== 'function') throw new TypeError(\"Invalid WeakMap key\");\n\t    };\n\t\n\t    var wrap = function wrap(collection, value) {\n\t      var store = data.unlock(collection);\n\t      if (store.value) throw new TypeError(\"Object is already a WeakMap\");\n\t      store.value = value;\n\t    };\n\t\n\t    var unwrap = function unwrap(collection) {\n\t      var storage = data.unlock(collection).value;\n\t      if (!storage) throw new TypeError(\"WeakMap is not generic\");\n\t      return storage;\n\t    };\n\t\n\t    var initialize = function initialize(weakmap, iterable) {\n\t      if (iterable !== null && typeof iterable === 'object' && typeof iterable.forEach === 'function') {\n\t        iterable.forEach(function (item, i) {\n\t          if (item instanceof Array && item.length === 2) set.call(weakmap, iterable[i][0], iterable[i][1]);\n\t        });\n\t      }\n\t    };\n\t\n\t    function WeakMap(iterable) {\n\t      if (this === global || this == null || this === WeakMap.prototype) return new WeakMap(iterable);\n\t\n\t      wrap(this, new Data());\n\t      initialize(this, iterable);\n\t    }\n\t\n\t    function get(key) {\n\t      validate(key);\n\t      var value = unwrap(this).get(key);\n\t      return value === undefined_ ? undefined : value;\n\t    }\n\t\n\t    function set(key, value) {\n\t      validate(key);\n\t      // store a token for explicit undefined so that \"has\" works correctly\n\t      unwrap(this).set(key, value === undefined ? undefined_ : value);\n\t    }\n\t\n\t    function has(key) {\n\t      validate(key);\n\t      return unwrap(this).get(key) !== undefined;\n\t    }\n\t\n\t    function delete_(key) {\n\t      validate(key);\n\t      var data = unwrap(this),\n\t          had = data.get(key) !== undefined;\n\t      data.set(key, undefined);\n\t      return had;\n\t    }\n\t\n\t    function toString() {\n\t      unwrap(this);\n\t      return '[object WeakMap]';\n\t    }\n\t\n\t    try {\n\t      var src = ('return ' + delete_).replace('e_', '\\\\u0065'),\n\t          del = new Function('unwrap', 'validate', src)(unwrap, validate);\n\t    } catch (e) {\n\t      var del = delete_;\n\t    }\n\t\n\t    var src = ('' + Object).split('Object');\n\t    var stringifier = function toString() {\n\t      return src[0] + nameOf(this) + src[1];\n\t    };\n\t\n\t    define(stringifier, stringifier);\n\t\n\t    var prep = { __proto__: [] } instanceof Array ? function (f) {\n\t      f.__proto__ = stringifier;\n\t    } : function (f) {\n\t      define(f, stringifier);\n\t    };\n\t\n\t    prep(WeakMap);\n\t\n\t    [toString, get, set, has, del].forEach(function (method) {\n\t      define(WeakMap.prototype, method);\n\t      prep(method);\n\t    });\n\t\n\t    return WeakMap;\n\t  })(new Data());\n\t\n\t  var defaultCreator = Object.create ? function () {\n\t    return Object.create(null);\n\t  } : function () {\n\t    return {};\n\t  };\n\t\n\t  function createStorage(creator) {\n\t    var weakmap = new WM();\n\t    creator || (creator = defaultCreator);\n\t\n\t    function storage(object, value) {\n\t      if (value || arguments.length === 2) {\n\t        weakmap.set(object, value);\n\t      } else {\n\t        value = weakmap.get(object);\n\t        if (value === undefined) {\n\t          value = creator(object);\n\t          weakmap.set(object, value);\n\t        }\n\t      }\n\t      return value;\n\t    }\n\t\n\t    return storage;\n\t  }\n\t\n\t  if (true) {\n\t    module.exports = WM;\n\t  } else if (typeof exports !== 'undefined') {\n\t    exports.WeakMap = WM;\n\t  } else if (!('WeakMap' in global)) {\n\t    global.WeakMap = WM;\n\t  }\n\t\n\t  WM.createStorage = createStorage;\n\t  if (global.WeakMap) global.WeakMap.createStorage = createStorage;\n\t})((0, eval)('this'));\n\t// Expanded by Benvie @ https://github.com/Benvie/harmony-collections\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar BMStorage = (function () {\n\t  /**\n\t  @param {string?} type - storage mechanism to use, `null` for auto\n\t  @param {string} [partition=default] - WebSQL / IndexedDB database name\n\t  @param {string} [section=main] - WebSQL table / IndexedDB object store name\n\t  */\n\t\n\t  function BMStorage(type) {\n\t    var partition = arguments.length <= 1 || arguments[1] === undefined ? 'default' : arguments[1];\n\t    var section = arguments.length <= 2 || arguments[2] === undefined ? 'main' : arguments[2];\n\t\n\t    _classCallCheck(this, BMStorage);\n\t\n\t    this.type = type;\n\t    this.partition = partition;\n\t    this.section = section;\n\t  }\n\t\n\t  _createClass(BMStorage, [{\n\t    key: 'ready',\n\t    value: function ready() {\n\t      throw new Error('not implemented');\n\t    }\n\t  }, {\n\t    key: 'get',\n\t    value: function get() {\n\t      throw new Error('not implemented');\n\t    }\n\t  }, {\n\t    key: 'set',\n\t    value: function set() {\n\t      throw new Error('not implemented');\n\t    }\n\t  }, {\n\t    key: 'remove',\n\t    value: function remove() {\n\t      throw new Error('not implemented');\n\t    }\n\t  }, {\n\t    key: 'keys',\n\t    value: function keys() {\n\t      throw new Error('not implemented');\n\t    }\n\t  }, {\n\t    key: 'count',\n\t    value: function count() {\n\t      throw new Error('not implemented');\n\t    }\n\t  }, {\n\t    key: 'removeKeysRegExp',\n\t    value: function removeKeysRegExp() {\n\t      throw new Error('not implemented');\n\t    }\n\t  }]);\n\t\n\t  return BMStorage;\n\t})();\n\t\n\texports['default'] = BMStorage;\n\t\n\tObject.defineProperties(BMStorage.prototype, {\n\t  constructor: {\n\t    value: BMStorage\n\t  },\n\t\n\t  available: {\n\t    value: []\n\t  }\n\t});\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\t// foreign modules\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _blinkmobileIsIndexeddbReliable = __webpack_require__(5);\n\t\n\tvar _blinkmobileIsIndexeddbReliable2 = _interopRequireDefault(_blinkmobileIsIndexeddbReliable);\n\t\n\tvar $ = global.jQuery;\n\t\n\t// this module\n\t\n\tvar dfrd = new $.Deferred();\n\t\n\t_blinkmobileIsIndexeddbReliable2['default'].quick(function (result) {\n\t  dfrd.resolve(result);\n\t});\n\t\n\texports['default'] = dfrd.promise();\n\tmodule.exports = exports['default'];\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\t// our modules\n\t\n\tvar close = __webpack_require__(6);\n\tvar runCallback = __webpack_require__(7);\n\tvar runBrokenBadTest = __webpack_require__(8);\n\t\n\t// this module\n\t\n\tvar UTIL_NAME = 'isIndexedDBReliable';\n\tvar DB_NAME = UTIL_NAME + '-test';\n\t\n\tvar api;\n\t\n\t/**\n\t * @returns {Boolean} basic feature-detect result\n\t */\n\tfunction sync() {\n\t  var NAME = DB_NAME + '-sync';\n\t  var req;\n\t  api = global.indexedDB || global.mozIndexedDB || global.webkitIndexedDB || global.msIndexedDB;\n\t  if (!api) {\n\t    return false;\n\t  }\n\t  if ('deleteDatabase' in api) {\n\t    try {\n\t      req = api.open(NAME, 1);\n\t      if ('onsuccess' in req && 'onupgradeneeded' in req) {\n\t        req.onerror = function () {\n\t          close(api, req.result, NAME);\n\t        };\n\t        req.onsuccess = function () {\n\t          close(api, req.result, NAME);\n\t        };\n\t        return true;\n\t      }\n\t    } catch (err) {\n\t      console.error(err);\n\t      return !err;\n\t    }\n\t  }\n\t  return false;\n\t}\n\t\n\t/**\n\t * @callback resultCallback\n\t * @param {Boolean} result of the feature-detect\n\t */\n\t\n\t/**\n\t * @param {resultCallback} callback\n\t */\n\tfunction quick(callback) {\n\t  if (!sync()) {\n\t    runCallback(callback, false);\n\t    return;\n\t  }\n\t\n\t  runBrokenBadTest(api, function (err) {\n\t    if (err) {\n\t      runCallback(callback, false);\n\t      return;\n\t    }\n\t    runCallback(callback, true);\n\t  });\n\t}\n\t\n\t/**\n\t * @param {resultCallback} callback\n\t */\n\tfunction thorough(callback) {\n\t  runCallback(callback, false);\n\t}\n\t\n\tmodule.exports = {\n\t  sync: sync,\n\t  quick: quick,\n\t  thorough: thorough\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t/*eslint-disable no-empty*/ // explicitly want noop catches\n\t\n\t'use strict';\n\t\n\tmodule.exports = function close(api, db, name) {\n\t  try {\n\t    db.close();\n\t  } catch (ignore) {}\n\t\n\t  try {\n\t    api.deleteDatabase(name);\n\t  } catch (ignore) {}\n\t};\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\tmodule.exports = function runCallback(callback, arg) {\n\t  try {\n\t    callback(arg);\n\t  } catch (err) {\n\t    if (global.console && global.console.error) {\n\t      global.console.error('error thrown during callback');\n\t      global.console.error(err);\n\t    }\n\t  }\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// our modules\n\t\n\tvar close = __webpack_require__(6);\n\t\n\t// this module\n\t\n\tfunction runWrites(db, callback) {\n\t  var tx, store;\n\t\n\t  try {\n\t    tx = db.transaction(['people', 'notes'], 'readwrite');\n\t  } catch (err) {\n\t    callback(err);\n\t    return;\n\t  }\n\t\n\t  tx.onerror = function (err) {\n\t    callback(err);\n\t  };\n\t\n\t  tx.oncomplete = function () {\n\t    callback(null, null);\n\t  };\n\t\n\t  try {\n\t    store = tx.objectStore('people');\n\t    store.add({ name: 'Harry', created: new Date().toString() });\n\t\n\t    store = tx.objectStore('notes');\n\t    store.add({ note: 'blah', created: new Date().toString() });\n\t  } catch (err) {\n\t    callback(err);\n\t  }\n\t}\n\t\n\tfunction findEntry(db, store, prop, value, callback) {\n\t  var tx, req;\n\t\n\t  try {\n\t    tx = db.transaction([store], 'readonly');\n\t    req = tx.objectStore(store).openCursor();\n\t  } catch (err) {\n\t    callback(err);\n\t    return;\n\t  }\n\t\n\t  req.onerror = function (err) {\n\t    callback(err);\n\t  };\n\t\n\t  req.onsuccess = function () {\n\t    var cursor = req.result;\n\t    if (cursor) {\n\t      if (cursor.value && cursor.value.created && cursor.value[prop] === value) {\n\t        callback(null, cursor.value);\n\t        return;\n\t      }\n\t      cursor['continue']();\n\t      return;\n\t    }\n\t    callback(new Error('test entry not found'), null);\n\t  };\n\t}\n\t\n\tfunction runReads(db, callback) {\n\t  findEntry(db, 'people', 'name', 'Harry', function (err) {\n\t    if (err) {\n\t      callback(err);\n\t      return;\n\t    }\n\t    findEntry(db, 'notes', 'note', 'blah', callback);\n\t  });\n\t}\n\t\n\t// http://www.raymondcamden.com/2014/09/25/IndexedDB-on-iOS-8-Broken-Bad\n\tmodule.exports = function runBrokenBadTest(api, callback) {\n\t  var BB_NAME = 'idbTest-brokenBad-safari';\n\t  var req;\n\t\n\t  try {\n\t    req = api.open(BB_NAME, 1);\n\t  } catch (err) {\n\t    callback(err);\n\t    return;\n\t  }\n\t\n\t  req.onerror = function (err) {\n\t    close(req.result, BB_NAME);\n\t    callback(err);\n\t  };\n\t\n\t  req.onupgradeneeded = function () {\n\t    var db;\n\t    db = req.result;\n\t    if (!db.objectStoreNames.contains('people')) {\n\t      db.createObjectStore('people', { autoIncrement: true });\n\t    }\n\t    if (!db.objectStoreNames.contains('notes')) {\n\t      db.createObjectStore('notes', { autoIncrement: true });\n\t    }\n\t  };\n\t\n\t  req.onsuccess = function () {\n\t    runWrites(req.result, function (wErr) {\n\t      if (wErr) {\n\t        close(req.result, BB_NAME);\n\t        callback(wErr);\n\t        return;\n\t      }\n\t      runReads(req.result, function (rErr) {\n\t        close(req.result, BB_NAME);\n\t        callback(rErr);\n\t      });\n\t    });\n\t  };\n\t};\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** index.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0b8ae098d5b569ecd31f\n **/","'use strict';\n\n// local modules\n\nimport BMStorageIDB from './lib/BMStorageIDB';\n\n// this module\n\nglobal.console.log('BMStorageIDB: starting...');\n\nglobal.console.log(`global.BlinkStorage: ${!!global.BlinkStorage}`);\nglobal.console.log(`global.MyAnswers: ${!!global.MyAnswers}`);\n\nif (global.BlinkStorage) {\n  BMStorageIDB.Upstream = global.BlinkStorage;\n  global.BlinkStorage = BMStorageIDB;\n}\n\nmodule.exports = {\n  BMStorageIDB\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./index.js\n **/","'use strict';\n\n// foreign modules\n\nimport { default as BWeakMap } from 'weakmap';\nconst WeakMap = global.WeakMap || BWeakMap;\n\n// local modules\n\nimport BMStorage from './BMStorage';\nimport promiseReliable from './promise-reliable';\n\n// this module\n\nconst privateMap = new WeakMap();\n\nexport default class BMStorageIDB extends BMStorage {\n  /**\n  @param {string?} type - storage mechanism to use, `null` for auto\n  @param {string} [partition=default] - WebSQL / IndexedDB database name\n  @param {string} [section=main] - WebSQL table / IndexedDB object store name\n  */\n  constructor (type, partition = 'default', section = 'main') {\n    super(type, partition, section);\n    const privates = {};\n    privateMap.set(this, privates);\n\n    global.console.log('new BMStorageIDB():');\n    if (BMStorageIDB.Upstream) {\n      privates.upstream = new BMStorageIDB.Upstream(type, partition, section);\n    }\n  }\n\n  ready () {\n    const privates = privateMap.get(this);\n    if (privates.upstream) {\n      global.console.log('BMStorageIDB#ready():');\n      return promiseReliable\n      .then((result) => {\n        global.console.log('isIndexedDBReliable:', result);\n        return privates.upstream.ready();\n      });\n    }\n    throw new Error('not implemented');\n  }\n\n  get (...args) {\n    const privates = privateMap.get(this);\n    if (privates.upstream) {\n      global.console.log('BMStorageIDB#get():');\n      return privates.upstream.get(...args);\n    }\n    throw new Error('not implemented');\n  }\n\n  set (...args) {\n    const privates = privateMap.get(this);\n    if (privates.upstream) {\n      global.console.log('BMStorageIDB#set():');\n      return privates.upstream.set(...args);\n    }\n    throw new Error('not implemented');\n  }\n\n  remove (...args) {\n    const privates = privateMap.get(this);\n    if (privates.upstream) {\n      global.console.log('BMStorageIDB#remove():');\n      return privates.upstream.remove(...args);\n    }\n    throw new Error('not implemented');\n  }\n\n  keys () {\n    const privates = privateMap.get(this);\n    if (privates.upstream) {\n      global.console.log('BMStorageIDB#keys():');\n      return privates.upstream.keys();\n    }\n    throw new Error('not implemented');\n  }\n\n  count () {\n    const privates = privateMap.get(this);\n    if (privates.upstream) {\n      global.console.log('BMStorageIDB#count():');\n      return privates.upstream.count();\n    }\n    throw new Error('not implemented');\n  }\n\n  removeKeysRegExp (...args) {\n    const privates = privateMap.get(this);\n    if (privates.upstream) {\n      global.console.log('BMStorageIDB#removeKeysRegExp():');\n      return privates.upstream.removeKeysRegExp(...args);\n    }\n    throw new Error('not implemented');\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/BMStorageIDB.js\n **/","/* (The MIT License)\r\n *\r\n * Copyright (c) 2012 Brandon Benvie <http://bbenvie.com>\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\r\n * associated documentation files (the 'Software'), to deal in the Software without restriction,\r\n * including without limitation the rights to use, copy, modify, merge, publish, distribute,\r\n * sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included with all copies or\r\n * substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\r\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY  CLAIM,\r\n * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n// Original WeakMap implementation by Gozala @ https://gist.github.com/1269991\r\n// Updated and bugfixed by Raynos @ https://gist.github.com/1638059\r\n// Expanded by Benvie @ https://github.com/Benvie/harmony-collections\r\n\r\nvoid function(global, undefined_, undefined){\r\n  var getProps = Object.getOwnPropertyNames,\r\n      defProp  = Object.defineProperty,\r\n      toSource = Function.prototype.toString,\r\n      create   = Object.create,\r\n      hasOwn   = Object.prototype.hasOwnProperty,\r\n      funcName = /^\\n?function\\s?(\\w*)?_?\\(/;\r\n\r\n\r\n  function define(object, key, value){\r\n    if (typeof key === 'function') {\r\n      value = key;\r\n      key = nameOf(value).replace(/_$/, '');\r\n    }\r\n    return defProp(object, key, { configurable: true, writable: true, value: value });\r\n  }\r\n\r\n  function nameOf(func){\r\n    return typeof func !== 'function'\r\n          ? '' : 'name' in func\r\n          ? func.name : toSource.call(func).match(funcName)[1];\r\n  }\r\n\r\n  // ############\r\n  // ### Data ###\r\n  // ############\r\n\r\n  var Data = (function(){\r\n    var dataDesc = { value: { writable: true, value: undefined } },\r\n        datalock = 'return function(k){if(k===s)return l}',\r\n        uids     = create(null),\r\n\r\n        createUID = function(){\r\n          var key = Math.random().toString(36).slice(2);\r\n          return key in uids ? createUID() : uids[key] = key;\r\n        },\r\n\r\n        globalID = createUID(),\r\n\r\n        storage = function(obj){\r\n          if (hasOwn.call(obj, globalID))\r\n            return obj[globalID];\r\n\r\n          if (!Object.isExtensible(obj))\r\n            throw new TypeError(\"Object must be extensible\");\r\n\r\n          var store = create(null);\r\n          defProp(obj, globalID, { value: store });\r\n          return store;\r\n        };\r\n\r\n    // common per-object storage area made visible by patching getOwnPropertyNames'\r\n    define(Object, function getOwnPropertyNames(obj){\r\n      var props = getProps(obj);\r\n      if (hasOwn.call(obj, globalID))\r\n        props.splice(props.indexOf(globalID), 1);\r\n      return props;\r\n    });\r\n\r\n    function Data(){\r\n      var puid = createUID(),\r\n          secret = {};\r\n\r\n      this.unlock = function(obj){\r\n        var store = storage(obj);\r\n        if (hasOwn.call(store, puid))\r\n          return store[puid](secret);\r\n\r\n        var data = create(null, dataDesc);\r\n        defProp(store, puid, {\r\n          value: new Function('s', 'l', datalock)(secret, data)\r\n        });\r\n        return data;\r\n      }\r\n    }\r\n\r\n    define(Data.prototype, function get(o){ return this.unlock(o).value });\r\n    define(Data.prototype, function set(o, v){ this.unlock(o).value = v });\r\n\r\n    return Data;\r\n  }());\r\n\r\n\r\n  var WM = (function(data){\r\n    var validate = function(key){\r\n      if (key == null || typeof key !== 'object' && typeof key !== 'function')\r\n        throw new TypeError(\"Invalid WeakMap key\");\r\n    }\r\n\r\n    var wrap = function(collection, value){\r\n      var store = data.unlock(collection);\r\n      if (store.value)\r\n        throw new TypeError(\"Object is already a WeakMap\");\r\n      store.value = value;\r\n    }\r\n\r\n    var unwrap = function(collection){\r\n      var storage = data.unlock(collection).value;\r\n      if (!storage)\r\n        throw new TypeError(\"WeakMap is not generic\");\r\n      return storage;\r\n    }\r\n\r\n    var initialize = function(weakmap, iterable){\r\n      if (iterable !== null && typeof iterable === 'object' && typeof iterable.forEach === 'function') {\r\n        iterable.forEach(function(item, i){\r\n          if (item instanceof Array && item.length === 2)\r\n            set.call(weakmap, iterable[i][0], iterable[i][1]);\r\n        });\r\n      }\r\n    }\r\n\r\n\r\n    function WeakMap(iterable){\r\n      if (this === global || this == null || this === WeakMap.prototype)\r\n        return new WeakMap(iterable);\r\n\r\n      wrap(this, new Data);\r\n      initialize(this, iterable);\r\n    }\r\n\r\n    function get(key){\r\n      validate(key);\r\n      var value = unwrap(this).get(key);\r\n      return value === undefined_ ? undefined : value;\r\n    }\r\n\r\n    function set(key, value){\r\n      validate(key);\r\n      // store a token for explicit undefined so that \"has\" works correctly\r\n      unwrap(this).set(key, value === undefined ? undefined_ : value);\r\n    }\r\n\r\n    function has(key){\r\n      validate(key);\r\n      return unwrap(this).get(key) !== undefined;\r\n    }\r\n\r\n    function delete_(key){\r\n      validate(key);\r\n      var data = unwrap(this),\r\n          had = data.get(key) !== undefined;\r\n      data.set(key, undefined);\r\n      return had;\r\n    }\r\n\r\n    function toString(){\r\n      unwrap(this);\r\n      return '[object WeakMap]';\r\n    }\r\n\r\n    try {\r\n      var src = ('return '+delete_).replace('e_', '\\\\u0065'),\r\n          del = new Function('unwrap', 'validate', src)(unwrap, validate);\r\n    } catch (e) {\r\n      var del = delete_;\r\n    }\r\n\r\n    var src = (''+Object).split('Object');\r\n    var stringifier = function toString(){\r\n      return src[0] + nameOf(this) + src[1];\r\n    };\r\n\r\n    define(stringifier, stringifier);\r\n\r\n    var prep = { __proto__: [] } instanceof Array\r\n      ? function(f){ f.__proto__ = stringifier }\r\n      : function(f){ define(f, stringifier) };\r\n\r\n    prep(WeakMap);\r\n\r\n    [toString, get, set, has, del].forEach(function(method){\r\n      define(WeakMap.prototype, method);\r\n      prep(method);\r\n    });\r\n\r\n    return WeakMap;\r\n  }(new Data));\r\n\r\n  var defaultCreator = Object.create\r\n    ? function(){ return Object.create(null) }\r\n    : function(){ return {} };\r\n\r\n  function createStorage(creator){\r\n    var weakmap = new WM;\r\n    creator || (creator = defaultCreator);\r\n\r\n    function storage(object, value){\r\n      if (value || arguments.length === 2) {\r\n        weakmap.set(object, value);\r\n      } else {\r\n        value = weakmap.get(object);\r\n        if (value === undefined) {\r\n          value = creator(object);\r\n          weakmap.set(object, value);\r\n        }\r\n      }\r\n      return value;\r\n    }\r\n\r\n    return storage;\r\n  }\r\n\r\n\r\n  if (typeof module !== 'undefined') {\r\n    module.exports = WM;\r\n  } else if (typeof exports !== 'undefined') {\r\n    exports.WeakMap = WM;\r\n  } else if (!('WeakMap' in global)) {\r\n    global.WeakMap = WM;\r\n  }\r\n\r\n  WM.createStorage = createStorage;\r\n  if (global.WeakMap)\r\n    global.WeakMap.createStorage = createStorage;\r\n}((0, eval)('this'));\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/weakmap/weakmap.js\n **/","'use strict';\n\nexport default class BMStorage {\n  /**\n  @param {string?} type - storage mechanism to use, `null` for auto\n  @param {string} [partition=default] - WebSQL / IndexedDB database name\n  @param {string} [section=main] - WebSQL table / IndexedDB object store name\n  */\n  constructor (type, partition = 'default', section = 'main') {\n    this.type = type;\n    this.partition = partition;\n    this.section = section;\n  }\n\n  ready () { throw new Error('not implemented'); }\n\n  get () { throw new Error('not implemented'); }\n\n  set () { throw new Error('not implemented'); }\n\n  remove () { throw new Error('not implemented'); }\n\n  keys () { throw new Error('not implemented'); }\n\n  count () { throw new Error('not implemented'); }\n\n  removeKeysRegExp () { throw new Error('not implemented'); }\n}\n\nObject.defineProperties(BMStorage.prototype, {\n  constructor: {\n    value: BMStorage\n  },\n\n  available: {\n    value: []\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/BMStorage.js\n **/","'use strict';\n\n// foreign modules\n\nimport isIndexedDBReliable from '@blinkmobile/is-indexeddb-reliable';\nconst $ = global.jQuery;\n\n// this module\n\nconst dfrd = new $.Deferred();\n\nisIndexedDBReliable.quick((result) => {\n  dfrd.resolve(result);\n});\n\nexport default dfrd.promise();\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/promise-reliable.js\n **/","'use strict';\n\n// our modules\n\nvar close = require('./lib/close-db');\nvar runCallback = require('./lib/run-callback');\nvar runBrokenBadTest = require('./lib/broken-bad');\n\n// this module\n\nvar UTIL_NAME = 'isIndexedDBReliable';\nvar DB_NAME = UTIL_NAME + '-test';\n\nvar api;\n\n/**\n * @returns {Boolean} basic feature-detect result\n */\nfunction sync () {\n  var NAME = DB_NAME + '-sync';\n  var req;\n  api = global.indexedDB || global.mozIndexedDB || global.webkitIndexedDB || global.msIndexedDB;\n  if (!api) {\n    return false;\n  }\n  if ('deleteDatabase' in api) {\n    try {\n      req = api.open(NAME, 1);\n      if ('onsuccess' in req && 'onupgradeneeded' in req) {\n        req.onerror = function () {\n          close(api, req.result, NAME);\n        };\n        req.onsuccess = function () {\n          close(api, req.result, NAME);\n        };\n        return true;\n      }\n    } catch (err) {\n      console.error(err);\n      return !err;\n    }\n  }\n  return false;\n}\n\n/**\n * @callback resultCallback\n * @param {Boolean} result of the feature-detect\n */\n\n/**\n * @param {resultCallback} callback\n */\nfunction quick (callback) {\n  if (!sync()) {\n    runCallback(callback, false);\n    return;\n  }\n\n  runBrokenBadTest(api, function (err) {\n    if (err) {\n      runCallback(callback, false);\n      return;\n    }\n    runCallback(callback, true);\n  });\n}\n\n/**\n * @param {resultCallback} callback\n */\nfunction thorough (callback) {\n  runCallback(callback, false);\n}\n\nmodule.exports = {\n  sync: sync,\n  quick: quick,\n  thorough: thorough\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/@blinkmobile/is-indexeddb-reliable/index.js\n **/","/*eslint-disable no-empty*/ // explicitly want noop catches\n\n'use strict';\n\nmodule.exports = function close (api, db, name) {\n  try {\n    db.close();\n  } catch (ignore) {}\n\n  try {\n    api.deleteDatabase(name);\n  } catch (ignore) {}\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/@blinkmobile/is-indexeddb-reliable/lib/close-db.js\n **/","'use strict';\n\nmodule.exports = function runCallback (callback, arg) {\n  try {\n    callback(arg);\n  } catch (err) {\n    if (global.console && global.console.error) {\n      global.console.error('error thrown during callback');\n      global.console.error(err);\n    }\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/@blinkmobile/is-indexeddb-reliable/lib/run-callback.js\n **/","'use strict';\n\n// our modules\n\nvar close = require('./close-db');\n\n// this module\n\nfunction runWrites (db, callback) {\n  var tx, store;\n\n  try {\n    tx = db.transaction(['people', 'notes'], 'readwrite');\n  } catch (err) {\n    callback(err);\n    return;\n  }\n\n  tx.onerror = function (err) {\n    callback(err);\n  };\n\n  tx.oncomplete = function () {\n    callback(null, null);\n  };\n\n  try {\n    store = tx.objectStore('people');\n    store.add({ name: 'Harry', created: (new Date()).toString() });\n\n    store = tx.objectStore('notes');\n    store.add({ note: 'blah', created: (new Date()).toString() });\n  } catch (err) {\n    callback(err);\n  }\n}\n\nfunction findEntry (db, store, prop, value, callback) {\n  var tx, req;\n\n  try {\n    tx = db.transaction([store], 'readonly');\n    req = tx.objectStore(store).openCursor();\n  } catch (err) {\n    callback(err);\n    return;\n  }\n\n  req.onerror = function (err) {\n    callback(err);\n  };\n\n  req.onsuccess = function () {\n    var cursor = req.result;\n    if (cursor) {\n      if (cursor.value && cursor.value.created && cursor.value[prop] === value) {\n        callback(null, cursor.value);\n        return;\n      }\n      cursor.continue();\n      return;\n    }\n    callback(new Error('test entry not found'), null);\n  };\n}\n\nfunction runReads (db, callback) {\n  findEntry(db, 'people', 'name', 'Harry', function (err) {\n    if (err) {\n      callback(err);\n      return;\n    }\n    findEntry(db, 'notes', 'note', 'blah', callback);\n  });\n}\n\n// http://www.raymondcamden.com/2014/09/25/IndexedDB-on-iOS-8-Broken-Bad\nmodule.exports = function runBrokenBadTest (api, callback) {\n  var BB_NAME = 'idbTest-brokenBad-safari';\n  var req;\n\n  try {\n    req = api.open(BB_NAME, 1);\n  } catch (err) {\n    callback(err);\n    return;\n  }\n\n  req.onerror = function (err) {\n    close(req.result, BB_NAME);\n    callback(err);\n  };\n\n  req.onupgradeneeded = function () {\n    var db;\n    db = req.result;\n    if (!db.objectStoreNames.contains('people')) {\n      db.createObjectStore('people', { autoIncrement: true });\n    }\n    if (!db.objectStoreNames.contains('notes')) {\n      db.createObjectStore('notes', { autoIncrement: true });\n    }\n  };\n\n  req.onsuccess = function () {\n    runWrites(req.result, function (wErr) {\n      if (wErr) {\n        close(req.result, BB_NAME);\n        callback(wErr);\n        return;\n      }\n      runReads(req.result, function (rErr) {\n        close(req.result, BB_NAME);\n        callback(rErr);\n      });\n    });\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/@blinkmobile/is-indexeddb-reliable/lib/broken-bad.js\n **/"],"sourceRoot":""}